<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Profile - Loan Easy</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f0f2f5;
            min-height: 100vh;
        }

        .top-nav {
            background: #1a1a2e;
            color: white;
            padding: 0.75rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .top-nav-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-small {
            font-size: 1.5rem;
            color: #0066cc;
        }

        .brand-small {
            font-weight: 700;
            font-size: 1.2rem;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logout-btn {
            background: #dc3545;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .progress-bar {
            background: white;
            padding: 1.5rem;
            border-radius: 4px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
        }

        .progress-step {
            flex: 1;
            text-align: center;
            position: relative;
        }

        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e0e0e0;
            color: #666;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 0.5rem;
            font-weight: 600;
        }

        .step-circle.active {
            background: #0066cc;
            color: white;
        }

        .form-card {
            background: white;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
        }

        .card-header {
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
            padding: 1.5rem 2rem;
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #1a1a2e;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-section {
            padding: 2rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        label {
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: #333;
            font-size: 0.9rem;
        }

        .required {
            color: #dc3545;
        }

        input, select, textarea {
            padding: 0.75rem;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 0.95rem;
            font-family: inherit;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #0066cc;
            box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1);
        }

        .hint {
            font-size: 0.85rem;
            color: #666;
            margin-top: 0.25rem;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            padding: 1.5rem 2rem;
            background: #f8f9fa;
            border-top: 1px solid #e0e0e0;
        }

        .btn {
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 4px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: #0066cc;
            color: white;
        }

        .btn-primary:hover {
            background: #0052a3;
        }

        .alert {
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1.5rem;
        }

        .alert-danger {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="top-nav">
        <div class="top-nav-left">
            <div class="logo-small"><i class="fas fa-building-columns"></i></div>
            <div class="brand-small">LOAN EASY</div>
        </div>
        <div class="user-info">
            <span><i class="fas fa-user"></i> {{ current_user.email }}</span>
            <a href="{{ url_for('logout') }}" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </div>
    </div>

    <div class="container">
        <div class="progress-bar">
            <div class="progress-steps">
                <div class="progress-step">
                    <div class="step-circle active">1</div>
                    <div>Personal Info</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle">2</div>
                    <div>Financial Info</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle">3</div>
                    <div>Assets & Bank</div>
                </div>
            </div>
        </div>

        <h1 style="margin-bottom: 1.5rem; color: #1a1a2e;">
            <i class="fas fa-user-edit"></i> Complete Your Profile
        </h1>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <form method="POST">
            <!-- Personal Information -->
            <div class="form-card">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-id-card"></i>
                        Personal Information
                    </div>
                </div>
                <div class="form-section">
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label>Full Name <span class="required">*</span></label>
                            <input type="text" name="full_name" required placeholder="As per PAN card">
                        </div>

                        <div class="form-group">
                            <label>Phone Number <span class="required">*</span></label>
                            <input type="tel" name="phone_number" required pattern="[0-9]{10}" placeholder="10-digit mobile number">
                        </div>

                        <div class="form-group">
                            <label>Date of Birth <span class="required">*</span></label>
                            <input type="date" name="date_of_birth" required max="2007-10-07">
                        </div>

                        <div class="form-group">
                            <label>Gender <span class="required">*</span></label>
                            <select name="gender" required>
                                <option value="">-- Select --</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Marital Status <span class="required">*</span></label>
                            <select name="marital_status" required>
                                <option value="">-- Select --</option>
                                <option value="Single">Single</option>
                                <option value="Married">Married</option>
                                <option value="Divorced">Divorced</option>
                                <option value="Widowed">Widowed</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Number of Dependents <span class="required">*</span></label>
                            <select name="no_of_dependents" required>
                                <option value="">-- Select --</option>
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5+</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>PAN Card Number <span class="required">*</span></label>
                            <input type="text" name="pan_card" required pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}" placeholder="ABCDE1234F" style="text-transform: uppercase;">
                            <div class="hint">Format: ABCDE1234F</div>
                        </div>

                        <div class="form-group">
                            <label>Aadhar Number <span class="required">*</span></label>
                            <input type="text" name="aadhar_card" required pattern="[0-9]{12}" placeholder="123456789012">
                            <div class="hint">12-digit Aadhar number</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Address Information -->
            <div class="form-card">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-map-marker-alt"></i>
                        Address Details
                    </div>
                </div>
                <div class="form-section">
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label>Address Line 1 <span class="required">*</span></label>
                            <input type="text" name="address_line1" required placeholder="House/Flat No., Building Name">
                        </div>

                        <div class="form-group full-width">
                            <label>Address Line 2</label>
                            <input type="text" name="address_line2" placeholder="Street, Locality">
                        </div>

                        <div class="form-group">
                            <label>City <span class="required">*</span></label>
                            <input type="text" name="city" required placeholder="Your city">
                        </div>

                        <div class="form-group">
                            <label>State <span class="required">*</span></label>
                            <select name="state" required>
                                <option value="">-- Select State --</option>
                                <option value="Andhra Pradesh">Andhra Pradesh</option>
                                <option value="Maharashtra">Maharashtra</option>
                                <option value="Karnataka">Karnataka</option>
                                <option value="Tamil Nadu">Tamil Nadu</option>
                                <option value="Delhi">Delhi</option>
                                <option value="Gujarat">Gujarat</option>
                                <option value="West Bengal">West Bengal</option>
                                <!-- Add more states -->
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Pincode <span class="required">*</span></label>
                            <input type="text" name="pincode" required pattern="[0-9]{6}" placeholder="400001">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Employment & Education -->
            <div class="form-card">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-briefcase"></i>
                        Employment & Education
                    </div>
                </div>
                <div class="form-section">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Employment Type <span class="required">*</span></label>
                            <select name="employment_type" required>
                                <option value="">-- Select --</option>
                                <option value="Salaried">Salaried Employee</option>
                                <option value="Self-Employed">Self Employed</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Occupation <span class="required">*</span></label>
                            <input type="text" name="occupation" required placeholder="e.g., Software Engineer">
                        </div>

                        <div class="form-group">
                            <label>Company/Business Name</label>
                            <input type="text" name="company_name" placeholder="Your employer">
                        </div>

                        <div class="form-group">
                            <label>Annual Income (₹) <span class="required">*</span></label>
                            <input type="number" name="annual_income" required min="0" step="1000" placeholder="e.g., 600000">
                        </div>

                        <div class="form-group">
                            <label>Education Level <span class="required">*</span></label>
                            <select name="education_level" required>
                                <option value="">-- Select --</option>
                                <option value="Graduate">Graduate</option>
                                <option value="Not Graduate">Not Graduate</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bank Details -->
            <div class="form-card">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-university"></i>
                        Bank Account Details
                    </div>
                </div>
                <div class="form-section">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Bank Name <span class="required">*</span></label>
                            <select name="bank_name" required>
                                <option value="">-- Select Bank --</option>
                                <option value="State Bank of India">State Bank of India</option>
                                <option value="HDFC Bank">HDFC Bank</option>
                                <option value="ICICI Bank">ICICI Bank</option>
                                <option value="Axis Bank">Axis Bank</option>
                                <option value="Punjab National Bank">Punjab National Bank</option>
                                <option value="Bank of Baroda">Bank of Baroda</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Account Number <span class="required">*</span></label>
                            <input type="text" name="account_number" required placeholder="Enter account number">
                        </div>

                        <div class="form-group">
                            <label>IFSC Code <span class="required">*</span></label>
                            <input type="text" name="ifsc_code" required pattern="[A-Z]{4}0[A-Z0-9]{6}" placeholder="SBIN0001234" style="text-transform: uppercase;">
                        </div>

                        <div class="form-group">
                            <label>Account Type <span class="required">*</span></label>
                            <select name="account_type" required>
                                <option value="">-- Select --</option>
                                <option value="Savings">Savings Account</option>
                                <option value="Current">Current Account</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Current Bank Balance (₹) <span class="required">*</span></label>
                            <input type="number" name="bank_balance" required min="0" step="1000" placeholder="e.g., 100000">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Credit Information -->
            <div class="form-card">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-credit-card"></i>
                        Credit Information
                    </div>
                </div>
                <div class="form-section">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>CIBIL Score <span class="required">*</span></label>
                            <input type="number" name="cibil_score" required min="300" max="900" placeholder="e.g., 750">
                            <div class="hint">Range: 300-900</div>
                        </div>

                        <div class="form-group">
                            <label>Number of Existing Loans</label>
                            <input type="number" name="existing_loans" min="0" value="0" placeholder="0">
                        </div>

                        <div class="form-group">
                            <label>Total Monthly EMI (₹)</label>
                            <input type="number" name="total_emi" min="0" step="100" value="0" placeholder="0">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Assets/Collateral -->
            <div class="form-card">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-home"></i>
                        Assets & Collateral (Minimum ₹5,00,000 Required)
                    </div>
                </div>
                <div class="form-section">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Residential Property Value (₹)</label>
                            <input type="number" name="residential_property_value" min="0" step="100000" value="0" placeholder="e.g., 5000000">
                        </div>

                        <div class="form-group">
                            <label>Commercial Property Value (₹)</label>
                            <input type="number" name="commercial_property_value" min="0" step="100000" value="0" placeholder="e.g., 0">
                        </div>

                        <div class="form-group">
                            <label>Vehicle Value (₹)</label>
                            <input type="number" name="vehicle_value" min="0" step="10000" value="0" placeholder="e.g., 800000">
                        </div>

                        <div class="form-group">
                            <label>Luxury Assets (Jewelry, etc.) (₹)</label>
                            <input type="number" name="luxury_assets_value" min="0" step="10000" value="0" placeholder="e.g., 200000">
                        </div>

                        <div class="form-group">
                            <label>Gold Value (₹)</label>
                            <input type="number" name="gold_value" min="0" step="10000" value="0" placeholder="e.g., 100000">
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-check"></i> Complete Profile
                </button>
            </div>
        </form>
    </div>
</body>
</html>
